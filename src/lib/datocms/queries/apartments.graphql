fragment ResponsiveImageFragment on ResponsiveImage {
  src
  srcSet
  width
  height
  alt
  title
  base64
  sizes
}

fragment ApartmentBase on ApartmentRecord {
  id
  name
  slug
  description
  claim
  highlight
  price
  bedrooms
  bathrooms
  sleeps
  acaciaReward
  published
  position
  beddyId
  boxImage {
    url
    alt
    title
    blurhash
    responsiveImage(imgixParams: { w: 400 }, sizes: "400px") {
      ...ResponsiveImageFragment
    }
  }
  featuredImage {
    url
    alt
    title
    blurhash
    responsiveImage(imgixParams: { w: 800 }, sizes: "(max-width: 768px) 100vw, 800px") {
      ...ResponsiveImageFragment
    }
  }
  category {
    id
    name
    slug
  }
  district {
    id
    name
    slug
  }
}

query GetAllApartments($locale: SiteLocale!, $first: IntType = 100) {
  allApartments(locale: $locale, first: $first, orderBy: position_ASC, filter: { published: { eq: true } }) {
    ...ApartmentBase
  }
}

query GetApartmentBySlug($locale: SiteLocale!, $slug: String!) {
  apartment(locale: $locale, filter: { slug: { eq: $slug } }) {
    ...ApartmentBase
    seo {
      title
      description
      image {
        url
        blurhash
        responsiveImage(imgixParams: { w: 1200 }) {
          ...ResponsiveImageFragment
        }
      }
    }
    gallery {
      id
      image {
        url
        alt
        title
        blurhash
        responsiveImage(imgixParams: { w: 1200 }, sizes: "(max-width: 768px) 100vw, 1200px") {
          ...ResponsiveImageFragment
        }
      }
    }
    cuddles {
      id
      name
      url
    }
    ups {
      id
      name
      url
    }
    homeTruth {
      id
      body
    }
    cin
  }
}